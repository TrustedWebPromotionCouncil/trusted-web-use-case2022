# Woollet カーボントレーシング用ユニバーサルウォレット

## **説明**

カーボントレーシングウェブウォレットアプリケーション。

これは主に[`create-next-app`](https://urldefense.com/v3/__https://github.com/vercel/next.js/tree/canary/packages/create-next-app)**jNext.js*(https:/*nextjs.org/)**W__;44Gn44OW44O844OI44K544OI44Op44OD44OX44GV44KM44GfW10v44OX44Ot44K444Kn44Kv44OI44Gn44GZ!!GCTRfqYYOYGmgK_z!_5ZZnZ25nOaYX10JbFmnoWB5ODXc2vavlESHmCavYjnuwU7OYEJD7ye4RH8fDhDeeqYqYEBokf1rRptA4zdSo9ITwySUcUC3qM7v$ 。

## **基本的なワークフロー**

### 新規ユーザー

1. 新規ユーザーは**インデックス**ページ (`index.js`) に移動します。
2. ユーザーは**サインアップ**し、ユーザー名とパスワードを入力して新しいウォレットの作成をリクエストします。
3. ウォレットが作成されると、**ホーム**ページにリダイレクトされます。

### クレデンシャルの受信

1. 現在、クレデンシャルは自動的に受信されます。
2. 受信後、**ウォレット**ページでそれらを確認できます。
3. ユーザーは**クレデンシャルボックス**をクリックすると、クレデンシャルの詳細が展開されます。

### プレゼンテーションリクエストへの応答

1. ウォレットページでは、リクエストされたクレデンシャルが右上隅に赤い点滅ドットで表示されます。
2. ユーザーはそのクレデンシャルを開くことができ、詳細の下に**承認**ボタンと**拒否**ボタンが表示されます。
3. ユーザーは以下の情報を確認できます：
    - リクエスト元（またはこの操作の名前）
    - リクエストの理由
    - リクエストされている正確なフィールド
    - 技術情報（フォローアップ目的のプレゼンテーション ID など）
4. ユーザーはボタンのいずれかをクリックします。
    - **承認**：クレデンシャルのフィールドがリクエスト元に表示されます。
    - **拒否**：リクエストが拒否されます。リクエスト元側は拒否の状態を確認できます。
5. ボタンを押すことで、クレデンシャルボックスにリクエストが表示されなくなります。
6. プレゼンテーションリクエストの履歴は後で**トランザクション**ペ

ージで見ることができます。

## **機能**

ウェブウォレットは、他の機能とともに以下のことができます：

-   ウォレットオーナーに発行されたアイデンティティおよびデータのクレデンシャルの一覧表示
-   データ共有リクエストに応答し、ユーザーがそれらを承認または拒否できる
-   データ共有リクエストの過去の履歴表示
-   共有された炭素データの表示を取り消す

## **要件**

-   NodeJS >= 18.16

以下の主要なライブラリは、以下の`npm install`コマンドで自動的にインストールされます：

-   React >= 18.2
-   NextJS >= 13.0.5
-   Bootstrap >= 5.2.3
-   Web3.js >= 1.8.1

## **実行方法**

まず、必要なライブラリをインストールします：

```bash
npm install
```

次に、開発サーバーを実行します：

```bash
npm run dev
```

または

```bash
yarn dev
```

ブラウザで[https://urldefense.com/v3/__http://localhost:3000*(http:/*localhost:3000)**r__;XS_jgavjgqLjgq_jgrvjgrnjgZfjgabntZDmnpzjgpLooajnpLrjgZfjgb7jgZk!!GCTRfqYYOYGmgK_z!_5ZZnZ25nOaYX10JbFmnoWB5ODXc2vavlESHmCavYjnuwU7OYEJD7ye4RH8fDhDeeqYqYEBokf1rRptA4zdSo9ITwySUcQTLd33Z$ 。

## **ディレクトリ構造**

### `/components`

---

-   ページレンダリングのための主要な UI コンポーネント：
    -   メインメニュー：
        -   `Menu.js`
        -   `Nav.js`
    -   ホームページのクレデンシャルリスト
        -   `Card.js`
-   スキャン操作のための QR コードハンドラ：
    -   `QrScannerModal.js`
    -   `qr/\*`

### `/data`

---

-   Woollet API コネクタ：
    -   `did.js`
    -   `woollet.js`
-   ソケット操作：
    -   `socket.js`

### `/pages`

---

-   `index.js`
    -   最初のページ
    -   サインインとサインアップの機能
-   `home.js`
    -   クレデンシャルウォレット：すべてのアイデンティティとデータのクレデンシャルを表示
    -   プレゼンテーションリクエストが受信された場合、ここに通知が表示されます
    -   ユーザーはプレゼンテーションリクエストに対してクレデンシャルを選択するか、拒否することができます。
    -   ユーザーのウォレットは主にユーザーのクレデンシャルを保持し、管理者およびパートナーシステムへのサインインに使用されます。
-   `profile.js`

    -   ユーザー名、メール、ウォレット ID
    -   プロファイル編集機能

-   `transactions.js`
    -   すべての接続情報とプレゼンテーションリクエストの記録
    -   検証可能なクレデンシャル操作のメインログとして機能します
-   `setting.js`
    -   _TBD_
